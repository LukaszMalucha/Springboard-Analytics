{% extends "base.html" %} {% load staticfiles %}
{% block extrahead %}
<link href="{% static 'css/data.css' %}" rel="stylesheet"/>
{% endblock %}
{% load bootstrap_tags %} {% block content %}

<div class="dashboard-cards">

    <div class="row row-title">
        {% if phase == 'mlb_ready'%}
        <h3>Springboard.ie Stats</h3>
        {% else %}
        <h3 style="color:red">Dataset Missing - Finish the preprocessing steps first</h3>
        {% endif %}
        <p><i class="fas fa-chart-bar"> </i> Chart.js</p>
    </div>

    <div class="row row-cards">
        <div class="col-md-6 text-center">
            <div class="card pyplot">
                <canvas id="providersChart"></canvas>
            </div>
        </div>
        <div class="col-md-6 text-center">
            <div class="card pyplot">
                    <canvas id="nfqChart"></canvas>
            </div>
        </div>
    </div>
    <div class="row row-cards">
        <div class="col-md-3 text-left">
            <div class="card pyplot">
                <canvas id="lt50Chart"></canvas>
            </div>
        </div>
        <div class="col-md-6 text-center">
            <div class="card pyplot">
                    <canvas id="skillChart"></canvas>
            </div>
        </div>
        <div class="col-md-3 text-center">
            <div class="card pyplot">
                    <canvas id="modeChart"></canvas>
            </div>
        </div>

    </div>
</div>

<div class="fixed-action-btn">
  <a class="btn-floating btn-large light-green darken-2" href="{% url 'dashboard:dashboard' %}">
    <i class="large material-icons">exit_to_app</i>
  </a>
</div>


<script>
var pcx = document.getElementById('providersChart').getContext('2d');
var providersChart = new Chart(pcx, {
    // The type of chart we want to create
    type: 'horizontalBar',
    // The data for our dataset
    data: {
        labels: [{% for key, value in top_providers_dict.items %}
                    "{{key}}",
                {% endfor %}],
        datasets: [{
            label: 'Courses',
            data: [{% for key, value in top_providers_dict.items %}
                    "{{value}}",
                   {% endfor %}],
            backgroundColor: [
            '#4e79a7',    // color for data at index 0
            '#f28e2b',   // color for data at index 1
            '#e15759',  // color for data at index 2
            '#76b7b2', // color for data at index 3
            '#59a14f', // color for data at index 3
            '#b07aa1', // color for data at index 3
            //...
        ],
        }]
    },
    // Configuration options go here
    options: {
        responsive: true,
        maintainAspectRatio: false,
        legend: { display: false },
        title: {
            fontSize: 16,
            fontColor: 'black',
            display: true,
            text: 'Top Course Providers'
        },
        scales: {

        xAxes: [{
                gridLines: {
                    color: "rgba(0, 0, 0, 0)",
                },
                ticks: {
                fontSize: 10,
                suggestedMin: 0,    // minimum will be 0, unless there is a lower value.
                // OR //
                beginAtZero: true   // minimum value will be 0.
                }
            }],
        yAxes: [{
            display: true,
            gridLines: {
                    color: "rgba(0, 0, 0, 0)",
                },
            ticks: {
                fontSize: 10,
                suggestedMin: 0,    // minimum will be 0, unless there is a lower value.
                // OR //
                beginAtZero: true   // minimum value will be 0.
            }
        }]
    }
    }
});
</script>
<script>
var lcx = document.getElementById('lt50Chart').getContext('2d');
var lt50Chart = new Chart(lcx, {
    // The type of chart we want to create
    type: 'doughnut',
    // The data for our dataset
    data: {
        labels: [{% for key, value in lt50_dict.items %}
                    "{{key}}",
                {% endfor %}],
        datasets: [{
            data: [{% for key, value in lt50_dict.items %}
                    "{{value}}",
                   {% endfor %}],
            backgroundColor: [
            '#4e79a7',    // color for data at index 0
            '#f28e2b',   // color for data at index 1

        ],
        }]
    },
    // Configuration options go here
    options: {
        responsive: true,
        maintainAspectRatio: false,
        title: {
        fontSize: 16,
        fontColor: 'black',
        display: true,
        text: 'ETCS Course Credits'
        },
        responsive: true,
        maintainAspectRatio: false,

        scales: {

        yAxes: [{
            display: false,
            ticks: {
                suggestedMin: 0,    // minimum will be 0, unless there is a lower value.
                // OR //
                beginAtZero: true   // minimum value will be 0.
            }
        }]
    }
    }
});
</script>
<script>
var ncx = document.getElementById('nfqChart').getContext('2d');
var nfqChart = new Chart(ncx, {
    // The type of chart we want to create
    type: 'bar',
    // The data for our dataset
    data: {
        labels: [{% for key, value in nfq_dict.items %}
                    "{{key}}",
                {% endfor %}],
        datasets: [{
            data: [{% for key, value in nfq_dict.items %}
                    "{{value}}",
                   {% endfor %}],
            backgroundColor: [
            '#3e6085',    // color for data at index 0
            '#7193b8',   // color for data at index 1
            '#94aeca',  // color for data at index 2
            '#c9d6e4', // color for data at index 3
            '#c9d6e4', // color for data at index 3
            '#c9d6e4', // color for data at index 3
            //...
        ],
        }]
    },
    // Configuration options go here
    options: {
        responsive: true,
        maintainAspectRatio: false,
        legend: { display: false },
        title: {
            fontSize: 16,
            fontColor: 'black',
            display: true,
            text: 'Courses by NFQ Level'
        },
        responsive: true,
        maintainAspectRatio: false,
        scales: {
             xAxes: [{
                gridLines: {
                    color: "rgba(0, 0, 0, 0)",
                }
            }],
        yAxes: [{
            display: true,
            gridLines: {
                    color: "rgba(0, 0, 0, 0)",
                },
            ticks: {
                suggestedMin: 0,    // minimum will be 0, unless there is a lower value.
                // OR //
                beginAtZero: true   // minimum value will be 0.
            }
        }]
    }
    }
});
</script>
<script>
var mcx = document.getElementById('modeChart').getContext('2d');
var modeChart = new Chart(mcx, {
    // The type of chart we want to create
    type: 'pie',
    // The data for our dataset
    data: {
        labels: [{% for key, value in mode_dict.items %}
                    "{{key}}",
                {% endfor %}],
        datasets: [{
            data: [{% for key, value in mode_dict.items %}
                    "{{value}}",
                   {% endfor %}],
            backgroundColor: [
            '#4e79a7',    // color for data at index 0
            '#f28e2b',   // color for data at index 1

            //...
        ],
        }]
    },
    // Configuration options go here
    options: {
        responsive: true,
        maintainAspectRatio: false,
        title: {
        fontSize: 16,
        fontColor: 'black',
        display: true,
        text: 'Course Study Mode'
        },
        responsive: true,
        maintainAspectRatio: false,

        scales: {

        yAxes: [{
            display: false,
            ticks: {
                suggestedMin: 0,    // minimum will be 0, unless there is a lower value.
                // OR //
                beginAtZero: true   // minimum value will be 0.
            }
        }]
    }
    }
});

</script>
<script>
var scx = document.getElementById('skillChart').getContext('2d');
var skillchart = new Chart(scx, {
    // The type of chart we want to create
    type: 'bar',
    // The data for our dataset
    data: {
        labels: [{% for key, value in skill_dict.items %}
                    "{{key}}",
                {% endfor %}],
        datasets: [{
            data: [{% for key, value in skill_dict.items %}
                    "{{value}}",
                   {% endfor %}],
            backgroundColor: [
            '#4e79a7',    // color for data at index 0
            '#f28e2b',   // color for data at index 1
            '#e15759',  // color for data at index 2
            '#76b7b2', // color for data at index 3
            '#59a14f', // color for data at index 3
            '#b07aa1', // color for data at index 3
            //...
        ],
        }]
    },
    // Configuration options go here
    options: {
        responsive: true,
        maintainAspectRatio: false,
        legend: { display: false },
        title: {
        fontSize: 16,
        fontColor: 'black',
        display: true,
        text: 'Most Popular Course Skill Areas'
        },
        responsive: true,
        maintainAspectRatio: false,
        scales: {
             xAxes: [{
                gridLines: {
                    color: "rgba(0, 0, 0, 0)",
                }
            }],
        yAxes: [{
            display: true,
            gridLines: {
                    color: "rgba(0, 0, 0, 0)",
                },
            display: true,
            ticks: {
                suggestedMin: 0,    // minimum will be 0, unless there is a lower value.
                // OR //
                beginAtZero: true   // minimum value will be 0.
            }
        }]
    }
    }
});

</script>


{% endblock %}